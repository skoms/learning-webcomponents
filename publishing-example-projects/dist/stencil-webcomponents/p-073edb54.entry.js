import{r as o,h as t,c as r,H as i}from"./p-b99345fe.js";let s=class{constructor(t){o(this,t)}render(){return t("div",{class:"lds-ring"},t("div",null),t("div",null),t("div",null),t("div",null))}};s.style=".lds-ring{display:inline-block;position:relative;width:24px;height:24px}.lds-ring div{box-sizing:border-box;display:block;position:absolute;width:20px;height:20px;margin:4px;border:4px solid #640064;border-radius:50%;animation:lds-ring 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;border-color:#640064 transparent transparent transparent}.lds-ring div:nth-child(1){animation-delay:-0.45s}.lds-ring div:nth-child(2){animation-delay:-0.3s}.lds-ring div:nth-child(3){animation-delay:-0.15s}@keyframes lds-ring{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}";let n=class{constructor(t){o(this,t),this.ybcSymbolSelected=r(this,"ybcSymbolSelected",7),this.searchResults=[],this.loading=!1,this.onFindStocks=o=>{this.loading=!0,o.preventDefault(),fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.stockNameInput.value}&apikey=GV1GNY4S4I6UWYQ3`).then((o=>o.json())).then((o=>{this.searchResults=o.bestMatches.map((o=>({symbol:o["1. symbol"],name:o["2. name"]}))),console.log(this.searchResults)})).catch((o=>console.error(o))).finally((()=>{this.loading=!1}))},this.onSelectSymbol=o=>{this.ybcSymbolSelected.emit(o)}}render(){return[t("form",{onSubmit:this.onFindStocks},t("input",{id:"stock-symbol",ref:o=>this.stockNameInput=o}),t("button",{type:"submit"},"Find!")),this.loading?t("ybc-spinner",null):t("ul",null,this.searchResults.map((o=>t("li",{onClick:()=>this.onSelectSymbol(o.symbol)},t("strong",null,o.symbol)," - ",o.name))))]}};n.style=":host{display:block;font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;width:20rem;max-width:100%;border-radius:3px}:host form input{display:block;font-family:inherit;color:var(--color-primary, black);padding:0.1rem 0.25rem;margin-bottom:0.5rem}:host form input:focus,:host form button:focus{outline:none}:host form button{padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background:var(--color-primary, black);color:var(--color-primary-contrast, white);border-radius:3px;cursor:pointer}:host form button:hover,:host form button:active{background:var(--color-primary-highlight, darkgray);border:1px solid var(--color-primary-highlight, darkgray)}:host form button:disabled{background:var(--color-disabled, #ccc);border-color:var(--color-disabled, #ccc);color:var(--color-disabled-contrast, #black);cursor:not-allowed}:host ul{margin:0;padding:0;list-style:none}:host ul li{margin:0.25rem 0;padding:0.25rem;border:1px solid #ccc}:host ul li:hover,:host ul li:active{cursor:pointer;color:var(--color-primary-contrast, white);background:var(--color-primary, black)}";let e=class{constructor(t){o(this,t),this.price=0,this.stockInputValid=!1,this.loading=!1,this.onUserInput=o=>{this.stockUserInput=o.target.value,this.stockInputValid=""!==this.stockUserInput.trim()},this.onFetchStockPrice=o=>{o.preventDefault(),this.stockSymbol=this.stockInput.value}}stockSymbolChanged(o,t){o!==t&&(this.stockUserInput=o,this.stockInputValid=!0,this.fetchStockPrice(o))}componentWillLoad(){console.log("component will load"),console.log(this.stockSymbol)}componentDidLoad(){this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol)),console.log("component did load")}componentWillUpdate(){console.log("Component will update")}componentDidUpdate(){console.log("Component did update")}disconnectedCallback(){console.log("Disconnect callback")}onStockSymbolSelected(o){console.log(`Stock Symbol Selected: ${o.detail}`),o.detail&&o.detail!==this.stockSymbol&&(this.stockSymbol=o.detail)}fetchStockPrice(o){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${o}&apikey=GV1GNY4S4I6UWYQ3`).then((o=>o.json())).then((o=>{if(!o["Global Quote"]["05. price"])throw new Error("Invalid Symbol");this.error=null,this.price=+o["Global Quote"]["05. price"]})).catch((o=>{this.error=o.message})).finally((()=>{this.loading=!1}))}hostData(){return{class:this.error?"error":""}}__stencil_render(){let o="Please enter a symbol";return this.error?o=this.error:this.price&&(o=`Price: $${this.price}`),[t("form",{onSubmit:this.onFetchStockPrice},t("input",{id:"stock-symbol",ref:o=>this.stockInput=o,value:this.stockUserInput,onInput:this.onUserInput}),t("button",{type:"submit",disabled:!this.stockInputValid||this.loading},"Fetch")),t("div",null,this.loading?t("ybc-spinner",null):t("p",null,o))]}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}render(){return t(i,this.hostData(),this.__stencil_render())}};e.style=":host{display:block;font-family:sans-serif;border:2px solid #3b013b;margin:2rem;padding:1rem;width:20rem;max-width:100%;border-radius:3px}:host form input{display:block;font-family:inherit;color:#3b013b;padding:0.1rem 0.25rem;margin-bottom:0.5rem}:host form input:focus,:host form button:focus{outline:none}:host form button{padding:0.25rem 0.5rem;border:1px solid #3b013b;background:#3b013b;color:white;border-radius:3px;cursor:pointer}:host form button:hover,:host form button:active{background:#640064;border:1px solid #640064}:host form button:disabled{background:#ccc;border-color:#ccc;color:white;cursor:not-allowed}:host(.error){border-color:red;background:#ffb0b0}";export{s as ybc_spinner,n as ybc_stock_finder,e as ybc_stock_price}